# ğŸ“– ì˜¤ëŠ˜ ë°°ìš´ ë‚´ìš© - 2022.01.15

- React í…ŒìŠ¤íŒ…
- jest
- react-testing-library

## ğŸ“ React í…ŒìŠ¤íŒ…

- [[React] React í…ŒìŠ¤íŒ…](https://lakelouise.tistory.com/293)

## ğŸ“ jest

- [[jest] jestë€?](https://lakelouise.tistory.com/294)

## ğŸ“ Assertion Matchers í™œìš©

- [[Jest] Assertion Matchers í™œìš©](https://lakelouise.tistory.com/295)

## ğŸ“ Async assertion

- [[Jest] Async assertion](https://lakelouise.tistory.com/296)

## ğŸ“ react-testing-library

- [[react-testing-library] react-testing-libraryë€?](https://lakelouise.tistory.com/297)

## ğŸ“ ì¿¼ë¦¬ì˜ ìš°ì„ ìˆœìœ„

- [[react-testing-library] ì¿¼ë¦¬ì˜ ìš°ì„ ìˆœìœ„](https://lakelouise.tistory.com/298)

## ğŸ“ ìœ ì € ì´ë²¤íŠ¸

- [[react-testing-library] ìœ ì € ì´ë²¤íŠ¸](https://lakelouise.tistory.com/299)

## ğŸ“ ì˜ˆì œ

**ğŸ›  App.js**

```jsx
import React, { useState } from "react";

function SimpleToggle() {
  const [show, setShow] = useState(false);

  const handleClick = () => setShow((b) => !b);

  return (
    <div>
      {!show && <div>ìœ ì € ì •ë³´ë¥¼ ë³´ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</div>}
      {show && (
        <ul>
          <li>Email - test@test.com</li>
          <li>Address - ì„œìš¸ì‹œ </li>
        </ul>
      )}
      <button onClick={handleClick}>
        {!show ? "ìœ ì €ì •ë³´ ë³´ê¸° " : "ìœ ì €ì •ë³´ ê°€ë¦¬ê¸°"}
      </button>
    </div>
  );
}

export default SimpleToggle;
```

**ğŸ›  App.test.js**

```jsx
import { screen, render } from "@testing-library/react";
import userEvent from "@testing-library/user-event";
import SimpleToggle from "./App";

describe("ì•±ì„ ë Œë”ë§í•©ë‹ˆë‹¤.", () => {
  test("ë²„íŠ¼ì´ ìˆìŠµë‹ˆë‹¤.", () => {
    render(<SimpleToggle />);
    const button = screen.getByRole("button", {
      name: "ìœ ì €ì •ë³´ ë³´ê¸°",
    });
    expect(button).toBeInTheDocument();
  });

  test("ë²„íŠ¼ì„ ëˆ„ë¥´ì§€ ì•Šì•˜ì„ ì‹œ, ìœ ì € ì •ë³´ ì•ˆë‚´ë¬¸ì´ ë³´ì…ë‹ˆë‹¤.", () => {
    render(<SimpleToggle />);
    const text = screen.getByText("ìœ ì € ì •ë³´ë¥¼ ë³´ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.");
    expect(text).toBeInTheDocument();
  });
});

describe("í† ê¸€ ê¸°ëŠ¥ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.", () => {
  test("ë²„íŠ¼ì„ ëˆŒë €ì„ ì‹œ, ìœ ì € ì •ë³´ê°€ ë³´ì…ë‹ˆë‹¤.", () => {
    render(<SimpleToggle />);
    const infoText = /ìœ ì € ì •ë³´ë¥¼ ë³´ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”./i;

    const text = screen.getByText(infoText);
    expect(text).toBeInTheDocument();

    const button = screen.getByRole("button", {
      name: "ìœ ì €ì •ë³´ ë³´ê¸°",
    });
    userEvent.click(button); // ë²„íŠ¼ì„ í´ë¦­
    expect(screen.queryByText(infoText)).not.toBeInTheDocument(); // ìœ„ì—ì„œ ì°¾ì€ í…ìŠ¤íŠ¸ê°€ ë³´ì´ì§€ ì•ŠëŠ”ì§€ ì²´í¬

    const email = screen.getByText("Email - elice@elicer.com");
    expect(email).toBeInTheDocument();

    const address = screen.getByText("Address - ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 401");
    expect(address).toBeInTheDocument();

    expect(button).toHaveTextContent("ìœ ì €ì •ë³´ ê°€ë¦¬ê¸°");
  });

  test("ë²„íŠ¼ì„ ë‘ë²ˆ ëˆ„ë¥´ë©´, ìœ ì € ì •ë³´ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.", () => {
    render(<SimpleToggle />);

    const button = screen.getByRole("button", {
      name: "ìœ ì €ì •ë³´ ë³´ê¸°",
    });

    userEvent.click(button, { clickCount: 1 }); // ë²„íŠ¼ ì¹´ìš´íŠ¸ë¥¼ ëª…ì‹œí•  ìˆ˜ ìˆë‹¤. í•œë²ˆë§Œ ëˆ„ë¥¸ ê²½ìš°!
    const email = screen.getByText("Email - elice@elicer.com");
    expect(email).toBeInTheDocument();

    userEvent.click(button, { clickCount: 1 });
    expect(email).not.toBeInTheDocument();
  });
});
```

### ğŸ“• 1 ë‹¨ê³„

- ìœ ì € ì •ë³´ ë³´ê¸°" ë²„íŠ¼ì„ ì°¾ê¸°

  - `const button = screen.getByRole('button', { name: 'ìœ ì €ì •ë³´ ë³´ê¸°' })`

- ë²„íŠ¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬

  - `expect(button).toBeInTheDocument()`

- ì½”ë“œ ì‘ì„±

  ```jsx
  function SimpleToggle() {
    return <button>ìœ ì €ì •ë³´ ë³´ê¸°</button>;
  }
  ```

###

### ğŸ“• 2ë‹¨ê³„

- í…ìŠ¤íŠ¸ë¥¼ ì°¾ê¸°
  - `const text = screen.getByText('ìœ ì € ì •ë³´ë¥¼ ë³´ë ¤ë©´ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.');`
- í…ìŠ¤íŠ¸ê°€ ì¡´ì¬í•˜ëŠ”ì§€ ì²´í¬
  - `expect(text).toBeInTheDocument()`

### ğŸ“• ê·¸ í›„

- userEvent.click(button)

- ```jsx
  expect(screen.queryByText(infoText)).not.toBeInTheDocument(); // ìœ„ì—ì„œ ì°¾ì€ í…ìŠ¤íŠ¸ê°€ ë³´ì´ì§€ ì•ŠëŠ”ì§€ ì²´í¬
  ```

## ğŸ’¡ ì˜¤ëŠ˜ ê¹¨ë‹¬ì€ ê²ƒ

- í…ŒìŠ¤íŠ¸ ì½”ë“œ ë­”ê°€ ì¬ë°Œë‹¤.
- ì´ˆë°˜ ìƒì‚°ì„±ì€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆì§€ë§Œ ê²¬ê³ í•œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆì„ ê±° ê°™ë‹¤.
